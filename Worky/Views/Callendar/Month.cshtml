@model Worky.Models.Calendar.CallendarModel
@using Worky.Models.Calendar;
@{
    ViewData["Title"] = "Month";
}@{
    Layout = "_Layout";
}
<head>
    <style>
        .calGrid{
            display:grid;
            grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr 1fr;
            width:100%;
            gap:10px;

        }
        .dayCard{
           
                min-height: 120px;
                width:100%;
        }
        
       
        .WorkSpace{
            
            gap:50px;
        }
        .DetailCard{
            


        }
    </style>
    <script>
        function LoadDdetails(Name,Description)
        {
            document.getElementById("Name").innerHTML=Name;
            document.getElementById("Desc").innerHTML=Description;

        }
    </script>
</head>
<h1>@Model.CurMonth.Name</h1>
<br />
<div style="display:flex">
    <div>
        <a href="~/Project/Index?ProjectId=@Model.ProjectId" class="Dbtn">Назад</a>
    <a href="/Tasks/ProjectTasks?ProjectId=@Model.ProjectId"class="Dbtn" >Доска </a>
    </div>
    
    <div>

    </div>
</div>

            <hr />
<div class="WorkSpace" >


    
    <div>


            
            <div class="row">
            <div class="col-md-4">
                <form asp-action="Month">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group" style="display:flex">
                        <input asp-for="ProjectId" hidden/>
                
                
                        <select class="form-select" asp-for="CurMonth.Number" asp-items="Model.GetListmonth()"></select>
                           <select class="form-select" asp-for="CurYear" asp-items="Model.GetListyear()"></select>
                        <input type="submit" value="Ок" class="btn btn-primary" />
                    </div>
                </form>
            </div>
            </div>
            <div class="calGrid">
                <div>
                    <a>Пн</a>
                </div>
                 <div>
                    <a>Вт</a>
                </div>
                 <div>
                    <a>ср</a>
                </div>
                 <div>
                    <a>Чт</a>
                </div>
                 <div>
                    <a>Пт</a>
                </div>
                 <div>
                    <a>Сб</a>
                </div>
                 <div>
                    <a>Вс</a>
                </div>
            </div>
            <div class="calGrid">
                @foreach(Worky.Models.Calendar.DetailDayEventsModel day in @Model.DaysModels)
                {
       
                    <div class="dayCard ">
                        @if(day.IsValid)
                        {
                          <div  class="DCard" style="height:100%; width:100%;" >


                              <div style="display:flex;flex-direction:column">
                                  <div style="background-color:grey; padding-left: 15px;" > 
                                      <a style="text-decoration:none; color:white;" href="~/Callendar/DetailDay?pid=@Model.ProjectId&&month=@day.Day.Date.Month&&year=@day.Day.Date.Year&&DayNumber=@day.Day.Date.Day">@day.Day.DayNumber :@day.Day.MonthName</a>
                                  </div>
                                 
                                   <div style="display:flex; flex-direction:column;  "> 
                                       @foreach(ICallendarEvent t in day.DailyEvents)
                                       {
                        
                                            <a href="~/@t.GetEditLink()">@t.Name</a>
                                       
                        
                       
                        
                                       }
                                   </div>
                              </div>
                             
                              
                            </div>
                        }
            

                    </div>
                }
            </div>


          


    </div>
   

</div>