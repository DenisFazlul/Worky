@model Worky.Models.Account.UserProfileModel
@{
    ViewData["Title"] = "Profile";
}
  
@{
    Layout = "_Layout";
}
<style>
    .profileCardItem{
        padding:20px;
        margin: 10px;
    }
</style>

<div style="">



<h1>Профиль</h1>


     <div  >

      

        <div  style="display:flex; flex-direction:column" >
            
            <div class="DCard profileCardItem">
                <h2>Информация</h2>
                <hr />
                  <div    style="display:grid; grid-template-columns:1fr 1fr">
                <div style="grid-column:1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                    </svg>
                </div>
                <div style="grid-column:2; display:grid; ">
                    <a>UserName: @Model.UserName</a>
                    <a>Email: @Model.UserEmail</a>
                    <a>ApiKey: @Model.ApiKey</a>
                    @if(Model.IsAdmin)
                    {
                              <a href="~/Admin/index">Управление пользователями</a>
                    }
          
                 </div>
            </div>
            </div>
           
            <div class="DCard profileCardItem" style="display:flex; flex-direction:column">
                  <h2>Управление</h2>
                  <hr />
                  <div>
                       <a asp-action="ChangePass" class="Dbtn">
                       Изменить пароль
                       </a>
                       <a asp-action="ChangeUserData" class="Dbtn">
                           Изменить данные
                        </a>
                        <a asp-action="ResetApiKey"  class="Dbtn">Сброс Api ключа </a>
                  </div>
                
                    
            </div>
            <div class="DCard profileCardItem"> 
                <h2>Приглашения к проектам</h2>
                <hr />
                <table style="width:100%">
                  <tr>
                      <td>Имя проекта</td>
                       <td>Владелец проекта</td>
                       <td>Статус</td>
                       <td>Инструменты</td>
                  </tr>
                    @foreach(InviteModel inviteModel in @Model.invites)
                    {
                        <tr>
                            <td>@inviteModel.ProjectName</td>
                            <td>@inviteModel.ProjectOwnerName</td>
                            
                            @if(@inviteModel.InviteAcsepted==false)
                            {
                                <td><a href="~/Account/ConfirmInvite?inviteid=@inviteModel.Id">Подвердить приглашение</a></td>
                            }
                            else
                            {
                                <td>Подтверждено</td>
                            }
                            <td>
                                <a href="~/Account/OutFromProject?InviteId=@inviteModel.Id">Выйти из проекта</a>
                            </td>
                        </tr>
                         
                    }
                </table>
            </div>
        </div>
       

       
     </div>
</div>

@*</div>

<div>
    <h4>UserProfileModel</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.UserEmail)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.UserEmail)
        </dd>
    </dl>
</div>
<div>
    @Html.ActionLink("Edit", "Edit", new { /* id = Model.PrimaryKey */ }) |
    <a asp-action="ChangePass">Изменить пароль</a>
</div>
*@